import{a as Z}from"./chunk-GF6V6OGZ.js";import{b as Qt,d as Yt,e as qt,f as F}from"./chunk-ELDBD7HV.js";import{a as Ht,b as Wt}from"./chunk-Z2JHOIV2.js";import{c as wt}from"./chunk-PKIBH4PR.js";import{b as jt,c as $t}from"./chunk-WNLY4DJN.js";import{a as Tt,b as St}from"./chunk-TFRYWLHQ.js";import"./chunk-WNBL2TLP.js";import{a as Zt,b as Jt}from"./chunk-33FUOUKU.js";import{a as V,b as A}from"./chunk-CUC7IE2D.js";import{a as Ot,o as Lt,p as Nt,q as Ut,u as zt}from"./chunk-GGJ6J7I6.js";import{$a as x,Aa as rt,Ca as d,Cc as Pt,Eb as G,Ec as Dt,F as K,Gb as vt,Hb as yt,Ja as lt,Lb as Q,Ma as w,Na as dt,Nb as h,Oa as st,Pc as Y,Qa as C,Qb as m,Ta as T,Ua as b,V as X,Wa as S,X as tt,Xb as Ct,Y as j,Ya as E,Za as v,Zb as xt,_ as s,_a as $,_b as R,ab as M,bb as r,cb as l,db as k,dd as Et,fd as Bt,ga as _,gd as Gt,ha as f,hb as y,hc as Mt,hd as Rt,jb as p,jc as kt,jd as q,kb as u,kd as Vt,la as et,lb as ct,ma as at,mb as gt,md as At,nb as ut,nd as Ft,oa as I,ob as pt,pb as H,qb as W,sb as mt,sc as It,t as z,ta as nt,tb as bt,ub as ht,va as ot,vb as g,wb as P,xa as it,xb as _t,yb as ft,z as D,zb as B}from"./chunk-7KD5NMWA.js";var ie=["button"],re=["*"];function le(o,n){if(o&1&&(r(0,"div",2),k(1,"mat-pseudo-checkbox",6),l()),o&2){let t=u();d(),b("disabled",t.disabled)}}var Xt=new j("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:de});function de(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var te=new j("MatButtonToggleGroup"),se={provide:Ot,useExisting:X(()=>J),multi:!0},L=class{source;value;constructor(n,t){this.source=n,this.value=t}},J=(()=>{class o{_changeDetector=s(Q);_dir=s(Rt,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}_name=s(Y).getId("mat-button-toggle-group-");vertical;get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(a=>a.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}valueChange=new I;get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new I;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let t=s(Xt,{optional:!0});this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new jt(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let e=t.target.id,i=this._buttonToggles.toArray().findIndex(O=>O.buttonId===e),c=null;switch(t.keyCode){case 32:case 13:c=this._buttonToggles.get(i)||null;break;case 38:c=this._getNextButton(i,-1);break;case 37:c=this._getNextButton(i,this.dir==="ltr"?-1:1);break;case 40:c=this._getNextButton(i,1);break;case 39:c=this._getNextButton(i,this.dir==="ltr"?1:-1);break;default:return}c&&(t.preventDefault(),c._onButtonClick(),c.focus())}_emitChangeEvent(t){let a=new L(t,this.value);this._rawValue=a.value,this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(t,a,e=!1,i=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?a?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(t,e)):this._updateModelValue(t,e)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(a=>t.value!=null&&a===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let a=this._buttonToggles.get(t);if(!a.disabled){a.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,a){let e=this._buttonToggles;for(let i=1;i<=e.length;i++){let c=(t+a*i+e.length)%e.length,O=e.get(c);if(O&&!O.disabled)return O}return null}_setSelectionByValue(t){if(this._rawValue=t,!this._buttonToggles)return;let a=this._buttonToggles.toArray();if(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(e=>this._selectValue(e,a))):(this._clearSelection(),this._selectValue(t,a)),!this.multiple&&a.every(e=>e.tabIndex===-1)){for(let e of a)if(!e.disabled){e.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t,a){for(let e of a)if(e.value===t){e.checked=!0,this._selectionModel.select(e),this.multiple||(e.tabIndex=0);break}}_updateModelValue(t,a){a&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static \u0275fac=function(a){return new(a||o)};static \u0275dir=st({type:o,selectors:[["mat-button-toggle-group"]],contentQueries:function(a,e,i){if(a&1&&ut(i,N,5),a&2){let c;H(c=W())&&(e._buttonToggles=c)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(a,e){a&1&&p("keydown",function(c){return e._keydown(c)}),a&2&&(T("role",e.multiple?"group":"radiogroup")("aria-disabled",e.disabled),S("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard",e.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",h],value:"value",multiple:[2,"multiple","multiple",h],disabled:[2,"disabled","disabled",h],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",h],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",h]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[G([se,{provide:te,useExisting:o}])]})}return o})(),N=(()=>{class o{_changeDetectorRef=s(Q);_elementRef=s(nt);_focusMonitor=s(Pt);_idGenerator=s(Y);_animationMode=s(it,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(t){t!==this._tabIndex&&(this._tabIndex=t,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new I;constructor(){s(Dt).load(Bt);let t=s(te,{optional:!0}),a=s(new at("tabindex"),{optional:!0})||"",e=s(Xt,{optional:!0});this._tabIndex=parseInt(a)||0,this.buttonToggleGroup=t,this.appearance=e&&e.appearance?e.appearance:"standard",this.disabledInteractive=e?.disabledInteractive??!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let a=this.buttonToggleGroup._buttonToggles.find(e=>e.tabIndex===0);a&&(a.tabIndex=-1),this.tabIndex=0}this.change.emit(new L(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=w({type:o,selectors:[["mat-button-toggle"]],viewQuery:function(a,e){if(a&1&&pt(ie,5),a&2){let i;H(i=W())&&(e._buttonElement=i.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(a,e){a&1&&p("focus",function(){return e.focus()}),a&2&&(T("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),S("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-disabled-interactive",e.disabledInteractive)("mat-button-toggle-appearance-standard",e.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",h],appearance:"appearance",checked:[2,"checked","checked",h],disabled:[2,"disabled","disabled",h],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:re,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(a,e){if(a&1){let i=y();ct(),r(0,"button",1,0),p("click",function(){return _(i),f(e._onButtonClick())}),C(2,le,2,1,"div",2),r(3,"span",3),gt(4),l()(),k(5,"span",4)(6,"span",5)}if(a&2){let i=ht(1);b("id",e.buttonId)("disabled",e.disabled&&!e.disabledInteractive||null),T("role",e.isSingleSelector()?"radio":"button")("tabindex",e.disabled&&!e.disabledInteractive?-1:e.tabIndex)("aria-pressed",e.isSingleSelector()?null:e.checked)("aria-checked",e.isSingleSelector()?e.checked:null)("name",e._getButtonName())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-disabled",e.disabled&&e.disabledInteractive?"true":null),d(2),v(e.buttonToggleGroup&&(!e.buttonToggleGroup.multiple&&!e.buttonToggleGroup.hideSingleSelectionIndicator||e.buttonToggleGroup.multiple&&!e.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),d(4),b("matRippleTrigger",i)("matRippleDisabled",e.disableRipple||e.disabled)}},dependencies:[Et,$t],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return o})(),ee=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=dt({type:o});static \u0275inj=tt({imports:[q,Vt,N,q]})}return o})();function ae(o){return new Date(o).setHours(0,0,0,0)===new Date().setHours(0,0,0,0)}var me=(o,n)=>n.meal;function be(o,n){o&1&&(r(0,"mat-icon",6),g(1,"check_circle"),l())}function he(o,n){if(o&1){let t=y();r(0,"div",7),k(1,"span",8),r(2,"span",9),g(3),l(),r(4,"mat-slide-toggle",10),p("change",function(e){let i=_(t).$implicit,c=u();return f(c.onToggle(i.meal,e.checked))}),l()()}if(o&2){let t=n.$implicit,a=u();S("optin",t.optedIn)("optout",!t.optedIn),d(3),B("",a.mealLabel[t.meal]," \xB7 ",a.mealTime[t.meal]," \xB7 ",t.optedIn?"Opted in":"Opted out",""),d(),S("readonly",t.isEditable===!1),b("checked",t.optedIn)}}var U=class o{day;mealLabel;mealTime;inCurrentMonth;toggle=new I;isToday=m(()=>new Date(this.day.dateISO).setHours(0,0,0,0)===new Date().setHours(0,0,0,0));onToggle(n,t){this.toggle.emit({dateISO:this.day.dateISO,meal:n,optedIn:t})}get allServed(){return Array.isArray(this.day?.meals)&&this.day.meals.every(n=>!!n.isServed)}get dayName(){return new Date(this.day.dateISO).toLocaleString(void 0,{weekday:"short"})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=w({type:o,selectors:[["app-day-cell"]],inputs:{day:"day",mealLabel:"mealLabel",mealTime:"mealTime",inCurrentMonth:"inCurrentMonth"},outputs:{toggle:"toggle"},decls:8,vars:9,consts:[[1,"cell"],[1,"cell-header"],[1,"date"],["class","tick",4,"ngIf"],[1,"cell-body"],[1,"meal-inline",3,"optin","optout"],[1,"tick"],[1,"meal-inline"],["aria-hidden","true",1,"dot"],[1,"text"],[3,"change","checked"]],template:function(t,a){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),C(3,be,2,0,"mat-icon",3),g(4),l()(),r(5,"div",4),x(6,he,5,10,"div",5,me),l()()),t&2&&(S("outside",!a.inCurrentMonth)("completed",a.allServed)("today",a.isToday()),d(3),b("ngIf",a.allServed),d(),ft(" ",a.dayName," ",a.day.dateISO.split("-")[2]," "),d(2),M(a.day.meals))},dependencies:[R,Ct,F,qt,A,V],styles:[".cell[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;display:flex;flex-direction:column;min-height:120px}.cell.outside[_ngcontent-%COMP%]{opacity:.5}.cell.today[_ngcontent-%COMP%]{border-color:#1976d2;background:#e3f2fd!important;box-shadow:0 2px 8px #1976d233}.cell.today[_ngcontent-%COMP%]   .cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#1976d2;font-weight:700}.cell-header[_ngcontent-%COMP%]{padding:6px 8px;border-bottom:1px dashed #e0e0e0}.cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:600;color:#000000bd;display:flex;align-items:center;gap:6px}.cell-header[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{color:#2e7d32;font-size:18px}.cell-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:6px 8px 10px}.cell.completed[_ngcontent-%COMP%]{border-color:#c8e6c9;background:#f1f8e9}.meal-inline[_ngcontent-%COMP%]{display:grid;grid-template-columns:10px 1fr auto;align-items:center;gap:8px;padding:6px 8px;border-radius:8px;background:#fafafa;border:1px solid #eee}.meal-inline[_ngcontent-%COMP%]     .readonly{opacity:.6}.meal-inline[_ngcontent-%COMP%]     .readonly .mdc-switch__handle, .meal-inline[_ngcontent-%COMP%]     .readonly .mdc-switch{pointer-events:none;cursor:default}.meal-inline.optin[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1976d2}.meal-inline.optout[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#e53935}.meal-inline[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:999px}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{min-height:auto}.meal-inline[_ngcontent-%COMP%]{grid-template-columns:8px 1fr auto;padding:6px}}"],changeDetection:0})};var _e=["calendarGrid"],fe=(o,n)=>n.meal,oe=(o,n)=>n.dateISO;function ve(o,n){if(o&1){let t=y();r(0,"button",19),p("click",function(){_(t);let e=u();return f(e.goBackToClients())}),r(1,"mat-icon"),g(2,"arrow_back"),l()()}}function ye(o,n){if(o&1&&(r(0,"mat-chip-option",16)(1,"mat-icon"),g(2),l(),r(3,"span"),g(4),l()()),o&2){let t=n.$implicit,a=u();b("selected",t.optedIn)("color",t.optedIn?"primary":"warn"),d(2),P(t.optedIn?"check_circle":"cancel"),d(2),B("",a.mealLabel[t.meal]," \xB7 ",a.mealTime[t.meal]," \xB7 ",t.optedIn?"Opted in":"Opted out","")}}function Ce(o,n){o&1&&(r(0,"div",17),k(1,"mat-spinner",20),l())}function xe(o,n){if(o&1&&(r(0,"div",22),g(1),l()),o&2){let t=n.$implicit;d(),P(t)}}function Me(o,n){if(o&1){let t=y();r(0,"app-day-cell",26),p("toggle",function(e){_(t);let i=u(3);return f(i.toggleMeal(e.dateISO,e.meal,e.optedIn))}),l()}if(o&2){let t=u(),a=t.$implicit,e=t.$index,i=u(2);E("col-",e%7,""),b("day",a)("mealLabel",i.mealLabel)("mealTime",i.mealTime)("inCurrentMonth",!0),T("data-date",a.dateISO)}}function ke(o,n){if(o&1&&k(0,"div"),o&2){let t=u().$index;E("placeholder col-",t%7,"")}}function Te(o,n){if(o&1&&C(0,Me,1,8,"app-day-cell",24)(1,ke,1,3,"div",25),o&2){let t=n.$implicit;v(t.inCurrentMonth===!0?0:1)}}function Se(o,n){if(o&1&&(r(0,"div",21),x(1,xe,2,1,"div",22,$),l(),r(3,"div",23,0),x(5,Te,2,1,null,null,oe),l()),o&2){let t=u();d(),M(t.weekdayNames()),d(4),M(n.days)}}function Ie(o,n){if(o&1&&(r(0,"div",22),g(1),l()),o&2){let t=n.$implicit;d(),P(t)}}function we(o,n){if(o&1){let t=y();r(0,"app-day-cell",26),p("toggle",function(e){_(t);let i=u(2);return f(i.toggleMeal(e.dateISO,e.meal,e.optedIn))}),l()}if(o&2){let t=n.$implicit,a=n.$index,e=u(2);E("col-",a%7,""),b("day",t)("mealLabel",e.mealLabel)("mealTime",e.mealTime)("inCurrentMonth",!0),T("data-date",t.dateISO)}}function Oe(o,n){if(o&1&&(r(0,"div",21),x(1,Ie,2,1,"div",22,$),l(),r(3,"div",27),x(4,we,1,8,"app-day-cell",24,oe),l()),o&2){let t=u();d(),M(t.weekdayNames()),d(3),M(n.days)}}function Pe(o,n){if(o&1){let t=y();r(0,"button",28),p("click",function(){_(t);let e=u();return f(e.navigateToPatterns())}),r(1,"mat-icon"),g(2,"pattern"),l()()}}var ne=class o{store=s(Z);authStore=s(wt);route=s(Mt);router=s(kt);injector=s(et);MealType=It;calendarGridRef=lt("calendarGrid");todayISO=ot(new Date().toString().slice(0,10));isDeliveryGuy=m(()=>this.authStore.user()?.userType==="DELIVERY");constructor(){this.store.setSelectedUserId(this.route.paramMap.pipe(z(n=>n.get("userId")||void 0))),St(this.calendarGridRef).pipe(D(Boolean),D(()=>this.view()==="month"),z(()=>window.innerWidth<=960),D(Boolean),K(20),Tt()).subscribe(()=>{rt(()=>{this.scrollToToday()},{injector:this.injector})})}view=m(()=>this.store.view());loading=m(()=>this.store.loading());month=m(()=>this.store.monthData?.());week=m(()=>this.store.weekData?.());selectedUserId=m(()=>this.store.selectedUserId());currentUser=m(()=>this.authStore.user());isAdminOrDelivery=m(()=>{let n=this.currentUser();return n?.userType==="ADMIN"||n?.userType==="DELIVERY"});mealLabel={BREAKFAST:"Breakfast",LUNCH:"Lunch",DINNER:"Dinner"};mealTime={BREAKFAST:"08:00",LUNCH:"12:00",DINNER:"20:00"};todayMeals=m(()=>{let n=this.month(),t=this.week();return(n?.days??t?.days??[]).find(i=>ae(i.dateISO))?.meals??[]});weekdayNames=m(()=>{let n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=this.store.weekStartsOn(),a=[];for(let e=0;e<7;e++)a.push(n[(t+e)%7]);return a});monthLabel=m(()=>{let{month:n}=this.store.currentMonth();return new Date(new Date().getFullYear(),n,1).toLocaleString(void 0,{month:"long"})});toggleMeal(n,t,a){this.store.toggleMeal(n,t,a)}setView(n){this.store.setView(n)}prev(){if(this.store.view()==="month"){let{month:n,year:t}=this.store.currentMonth(),a=n===0?11:n-1,e=n===0?t-1:t;this.store.setMonth(e,a)}else{let n=this.store.currentWeekStartISO?.()??new Date().toISOString().slice(0,10),t=new Date(n);t.setDate(t.getDate()-7),this.store.setWeekStartISO(t.toISOString().slice(0,10))}}next(){if(this.store.view()==="month"){let{month:n,year:t}=this.store.currentMonth(),a=n===11?0:n+1,e=n===11?t+1:t;this.store.setMonth(e,a)}else{let n=this.store.currentWeekStartISO?.()??new Date().toISOString().slice(0,10),t=new Date(n);t.setDate(t.getDate()+7),this.store.setWeekStartISO(t.toISOString().slice(0,10))}}isInCurrentMonth(n,t){return new Date(n).getMonth()===t}goBackToClients(){this.router.navigate(["/clients"])}navigateToPatterns(){this.router.navigate(["/patterns"])}scrollToToday(){let n=this.calendarGridRef();if(!n?.nativeElement)return;let t=new Date,a=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0"),e=n.nativeElement.querySelector(`[data-date="${a}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=w({type:o,selectors:[["app-calendar-page"]],viewQuery:function(t,a){t&1&&mt(a.calendarGridRef,_e,5),t&2&&bt()},features:[G([Z])],decls:33,vars:11,consts:[["calendarGrid",""],["color","primary",1,"toolbar"],[1,"left"],["mat-icon-button","","aria-label","Back to Clients"],["mat-icon-button","","aria-label","Previous",3,"click"],["mat-icon-button","","aria-label","Next",3,"click"],[1,"center"],[1,"month-label"],[3,"change","value"],["value","month"],["value","week"],[1,"right"],[1,"today-badge"],[1,"summary"],["appearance","outlined"],[1,"chips"],[3,"selected","color"],[1,"center","p24"],["mat-fab","","aria-label","Go to Patterns","color","primary",1,"fab-patterns"],["mat-icon-button","","aria-label","Back to Clients",3,"click"],["diameter","32"],[1,"weekday-headers"],[1,"weekday"],[1,"calendar-grid","month"],[3,"day","mealLabel","mealTime","inCurrentMonth","class"],[3,"class"],[3,"toggle","day","mealLabel","mealTime","inCurrentMonth"],[1,"calendar-grid","week"],["mat-fab","","aria-label","Go to Patterns","color","primary",1,"fab-patterns",3,"click"]],template:function(t,a){if(t&1&&(r(0,"mat-toolbar",1)(1,"div",2),C(2,ve,3,0,"button",3),r(3,"button",4),p("click",function(){return a.prev()}),r(4,"mat-icon"),g(5,"chevron_left"),l()(),r(6,"button",5),p("click",function(){return a.next()}),r(7,"mat-icon"),g(8,"chevron_right"),l()()(),r(9,"div",6)(10,"span",7),g(11),l(),r(12,"mat-button-toggle-group",8),p("change",function(i){return a.setView(i.value)}),r(13,"mat-button-toggle",9),g(14,"Month"),l(),r(15,"mat-button-toggle",10),g(16,"Week"),l()()(),r(17,"div",11)(18,"span",12),g(19),vt(20,"slice"),l()()(),r(21,"section",13)(22,"mat-card",14)(23,"mat-card-title"),g(24,"Today's Meals"),l(),r(25,"mat-card-content")(26,"div",15),x(27,ye,5,6,"mat-chip-option",16,fe),l()()()(),C(29,Ce,2,0,"div",17)(30,Se,7,0)(31,Oe,6,0)(32,Pe,3,0,"button",18)),t&2){let e,i;d(2),v(a.isAdminOrDelivery()?2:-1),d(9),P(a.monthLabel()),d(),b("value",a.view()),d(7),_t("Today: ",yt(20,8,a.todayISO(),4),""),d(8),M(a.todayMeals()),d(2),v(a.loading()?29:-1),d(),v((e=a.view()==="month"&&a.month())?30:-1,e),d(),v((i=a.view()==="week"&&a.week())?31:-1,i),d(),v(a.isDeliveryGuy()?-1:32)}},dependencies:[R,xt,ee,J,N,Ft,Gt,At,A,V,Wt,Ht,Yt,Qt,zt,Lt,Ut,Nt,F,Jt,Zt,U],styles:[".toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;display:grid;grid-template-columns:1fr auto 1fr;gap:8px;overflow:auto}.toolbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center}.toolbar[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{justify-content:center}.toolbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:end}.today-badge[_ngcontent-%COMP%]{font-weight:600}.summary[_ngcontent-%COMP%]{padding:12px}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.chips[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.p24[_ngcontent-%COMP%]{padding:24px}.calendar-grid[_ngcontent-%COMP%]{display:grid;gap:10px;padding:12px}.weekday-headers[_ngcontent-%COMP%]{display:grid;gap:10px;padding:0 12px;grid-template-columns:repeat(7,minmax(0,1fr))}.weekday[_ngcontent-%COMP%]{font-weight:600;opacity:.8;text-align:center}.calendar-grid.month[_ngcontent-%COMP%], .calendar-grid.week[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))}.cell[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;display:flex;flex-direction:column;min-height:140px}.placeholder[_ngcontent-%COMP%]{background:transparent;border:1px dashed #eee;border-radius:12px;min-height:140px}.cell-header[_ngcontent-%COMP%]{padding:8px 10px;border-bottom:1px dashed #e0e0e0}.cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:600;color:#000000bd}.cell-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:8px 10px 12px}.meal-inline[_ngcontent-%COMP%]{display:grid;grid-template-columns:10px 1fr auto;align-items:center;gap:8px;padding:6px 8px;border-radius:8px;background:#fafafa;border:1px solid #eee}.meal-inline.optin[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1976d2}.meal-inline.optout[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#e53935}.meal-inline[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:999px}.month-label[_ngcontent-%COMP%]{margin-right:12px;font-weight:600}.calendar-grid[_ngcontent-%COMP%]   .col-0[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+1){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+3){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+5){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+7){background:#00000008}@media (max-width: 960px){.weekday-headers[_ngcontent-%COMP%]{display:none}.calendar-grid.month[_ngcontent-%COMP%], .calendar-grid.week[_ngcontent-%COMP%]{grid-template-columns:1fr}.cell[_ngcontent-%COMP%]{min-height:auto}.placeholder[_ngcontent-%COMP%]{display:none}}.fab-patterns[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 8px #0003;transition:all .3s ease}.fab-patterns[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 12px #0000004d}.fab-patterns[_ngcontent-%COMP%]:active{transform:scale(.95)}"],changeDetection:0})};export{ne as CalendarPageComponent};
