import{b as dt,d as st,e as ct,f as W}from"./chunk-S3NDQANM.js";import{a as rt,b as lt}from"./chunk-Z2JHOIV2.js";import{c as je}from"./chunk-CBRL5BY5.js";import{b as ot,c as it}from"./chunk-WNLY4DJN.js";import{a as Le,b as F}from"./chunk-TFRYWLHQ.js";import{b as j}from"./chunk-Z2GBFXE6.js";import{a as gt,b as ut}from"./chunk-F2JEKGTB.js";import{a as U,b as N}from"./chunk-CUC7IE2D.js";import{a as ze,o as et,p as tt,q as at,u as nt}from"./chunk-GGJ6J7I6.js";import{$a as M,Aa as _e,Ca as d,Cc as $e,Eb as L,Ec as He,F as de,G as se,Gb as Pe,Hb as De,Ja as fe,Lb as te,Ma as D,Na as ve,Nb as _,Oa as ye,P as Z,Pc as ne,Qa as y,Qb as b,Ta as w,Ua as h,V as ce,W as ge,Wa as O,X as ue,Xb as Ee,Y as J,Ya as G,Za as C,Zb as Be,_ as s,_a as K,_b as V,ab as k,bb as r,cb as l,db as x,dc as Re,dd as Qe,fd as Ye,g as Y,ga as f,gd as qe,ha as v,hb as S,hc as Ge,hd as Ze,jb as p,jc as Ae,jd as oe,kb as u,kd as Je,la as R,lb as Ce,lc as m,ma as pe,mb as Me,mc as Ve,md as Ke,nb as ke,nc as Fe,nd as Xe,oa as P,ob as xe,oc as ae,pb as X,pc as Ue,qb as ee,qc as Ne,sb as Se,sc as We,t as T,ta as me,tb as Te,u as q,ub as Ie,va as be,vb as g,wb as B,xa as he,xb as we,yb as Oe,z as I,zb as A}from"./chunk-7KD5NMWA.js";var yt=["button"],Ct=["*"];function Mt(n,o){if(n&1&&(r(0,"div",2),x(1,"mat-pseudo-checkbox",6),l()),n&2){let e=u();d(),h("disabled",e.disabled)}}var pt=new J("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:kt});function kt(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var mt=new J("MatButtonToggleGroup"),xt={provide:ze,useExisting:ce(()=>re),multi:!0},z=class{source;value;constructor(o,e){this.source=o,this.value=e}},re=(()=>{class n{_changeDetector=s(te);_dir=s(Ze,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}_name=s(ne).getId("mat-button-toggle-group-");vertical;get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}valueChange=new P;get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new P;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let e=s(pt,{optional:!0});this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=e?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=e?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new ot(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let a=e.target.id,i=this._buttonToggles.toArray().findIndex(E=>E.buttonId===a),c=null;switch(e.keyCode){case 32:case 13:c=this._buttonToggles.get(i)||null;break;case 38:c=this._getNextButton(i,-1);break;case 37:c=this._getNextButton(i,this.dir==="ltr"?-1:1);break;case 40:c=this._getNextButton(i,1);break;case 39:c=this._getNextButton(i,this.dir==="ltr"?1:-1);break;default:return}c&&(e.preventDefault(),c._onButtonClick(),c.focus())}_emitChangeEvent(e){let t=new z(e,this.value);this._rawValue=t.value,this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,a=!1,i=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(e,a)):this._updateModelValue(e,a)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e.value!=null&&t===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let t=this._buttonToggles.get(e);if(!t.disabled){t.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,t){let a=this._buttonToggles;for(let i=1;i<=a.length;i++){let c=(e+t*i+a.length)%a.length,E=a.get(c);if(E&&!E.disabled)return E}return null}_setSelectionByValue(e){if(this._rawValue=e,!this._buttonToggles)return;let t=this._buttonToggles.toArray();if(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(a=>this._selectValue(a,t))):(this._clearSelection(),this._selectValue(e,t)),!this.multiple&&t.every(a=>a.tabIndex===-1)){for(let a of t)if(!a.disabled){a.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e,t){for(let a of t)if(a.value===e){a.checked=!0,this._selectionModel.select(a),this.multiple||(a.tabIndex=0);break}}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ye({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,a,i){if(t&1&&ke(i,$,5),t&2){let c;X(c=ee())&&(a._buttonToggles=c)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(t,a){t&1&&p("keydown",function(c){return a._keydown(c)}),t&2&&(w("role",a.multiple?"group":"radiogroup")("aria-disabled",a.disabled),O("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard",a.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",_],value:"value",multiple:[2,"multiple","multiple",_],disabled:[2,"disabled","disabled",_],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",_]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[L([xt,{provide:mt,useExisting:n}])]})}return n})(),$=(()=>{class n{_changeDetectorRef=s(te);_elementRef=s(me);_focusMonitor=s($e);_idGenerator=s(ne);_animationMode=s(he,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(e){e!==this._tabIndex&&(this._tabIndex=e,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new P;constructor(){s(He).load(Ye);let e=s(mt,{optional:!0}),t=s(new pe("tabindex"),{optional:!0})||"",a=s(pt,{optional:!0});this._tabIndex=parseInt(t)||0,this.buttonToggleGroup=e,this.appearance=a&&a.appearance?a.appearance:"standard",this.disabledInteractive=a?.disabledInteractive??!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let t=this.buttonToggleGroup._buttonToggles.find(a=>a.tabIndex===0);t&&(t.tabIndex=-1),this.tabIndex=0}this.change.emit(new z(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,a){if(t&1&&xe(yt,5),t&2){let i;X(i=ee())&&(a._buttonElement=i.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(t,a){t&1&&p("focus",function(){return a.focus()}),t&2&&(w("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),O("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-disabled-interactive",a.disabledInteractive)("mat-button-toggle-appearance-standard",a.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",_],appearance:"appearance",checked:[2,"checked","checked",_],disabled:[2,"disabled","disabled",_],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:Ct,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(t,a){if(t&1){let i=S();Ce(),r(0,"button",1,0),p("click",function(){return f(i),v(a._onButtonClick())}),y(2,Mt,2,1,"div",2),r(3,"span",3),Me(4),l()(),x(5,"span",4)(6,"span",5)}if(t&2){let i=Ie(1);h("id",a.buttonId)("disabled",a.disabled&&!a.disabledInteractive||null),w("role",a.isSingleSelector()?"radio":"button")("tabindex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("aria-pressed",a.isSingleSelector()?null:a.checked)("aria-checked",a.isSingleSelector()?a.checked:null)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),d(2),C(a.buttonToggleGroup&&(!a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideSingleSelectionIndicator||a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),d(4),h("matRippleTrigger",i)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[Qe,it],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return n})(),bt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ve({type:n});static \u0275inj=ue({imports:[oe,Je,$,oe]})}return n})();function ht(n){return new Date(n).setHours(0,0,0,0)===new Date().setHours(0,0,0,0)}var H=class n{http=s(Re);apiUrl=Ne.apiUrl;getMonth(o){let e={year:o.year,month:o.month,weekStartsOn:o.weekStartsOn};return o.userId&&(e.userId=o.userId),this.http.post(`${this.apiUrl}/calendar/month`,e)}getWeek(o,e){let t={startDateISO:o};return e&&(t.userId=e),this.http.get(`${this.apiUrl}/calendar/week`,{params:t})}toggleMeal(o){return this.http.post(`${this.apiUrl}/calendar/toggle`,o)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"})};var _t=new Date,Tt={view:"month",loading:!1,weekStartsOn:0,currentMonth:{year:_t.getFullYear(),month:_t.getMonth()},monthData:void 0,weekData:void 0,currentWeekStartISO:void 0,selectedUserId:void 0},le=Ve(Ue(Tt),ae(n=>{let o=s(H);return{setView(e){m(n,{view:e})},setMonth(e,t){m(n,{currentMonth:{year:e,month:t}})},setWeekStartISO(e){m(n,{currentWeekStartISO:e})},setWeekStartsOn(e){m(n,{weekStartsOn:e})},setSelectedUserId:j(T(e=>{m(n,{selectedUserId:e})})),loadMonth(){let e=n.currentMonth(),t=n.weekStartsOn(),a=n.selectedUserId();m(n,{loading:!0});let i={year:e.year,month:e.month,weekStartsOn:t,userId:a};o.getMonth(i).subscribe({next:c=>{m(n,{monthData:c.data,loading:!1})},error:c=>{m(n,{loading:!1}),console.error("Error loading month:",c)}})},loadWeek(){let e=n.currentWeekStartISO?.()??new Date().toISOString().slice(0,10),t=n.selectedUserId();m(n,{loading:!0,currentWeekStartISO:e}),o.getWeek(e,t).subscribe({next:a=>{m(n,{weekData:a.data,loading:!1})},error:a=>{m(n,{loading:!1}),console.error("Error loading week:",a)}})},toggleMeal(e,t,a){m(n,{loading:!0});let i={dateISO:e,meal:t,optedIn:a};o.toggleMeal(i).subscribe({next:()=>{n.view()==="month"?this.loadMonth():this.loadWeek()},error:c=>{m(n,{loading:!1}),console.error("Error toggling meal:",c)}})}}}),ae((n,o=s(R))=>{function e(t){return F(t,{injector:o}).pipe(se())}return{autoLoadMonth:j(Y(Z(()=>q([e(n.view),e(n.currentMonth),e(n.currentWeekStartISO),e(n.selectedUserId)])),I(()=>n.view()==="month"),T(()=>n.loadMonth()))),autoLoadWeek:j(Y(Z(()=>q([e(n.view),e(n.currentWeekStartISO),e(n.selectedUserId)])),I(()=>n.view()==="week"),T(()=>n.loadWeek())))}}),Fe({onInit(n){n.autoLoadMonth(),n.autoLoadWeek()}}));var Pt=(n,o)=>o.meal;function Dt(n,o){n&1&&(r(0,"mat-icon",6),g(1,"check_circle"),l())}function Et(n,o){if(n&1){let e=S();r(0,"div",7),x(1,"span",8),r(2,"span",9),g(3),l(),r(4,"mat-slide-toggle",10),p("change",function(a){let i=f(e).$implicit,c=u();return v(c.onToggle(i.meal,a.checked))}),l()()}if(n&2){let e=o.$implicit,t=u();O("optin",e.optedIn)("optout",!e.optedIn),d(3),A("",t.mealLabel[e.meal]," \xB7 ",t.mealTime[e.meal]," \xB7 ",e.optedIn?"Opted in":"Opted out",""),d(),O("readonly",e.isEditable===!1),h("checked",e.optedIn)}}var Q=class n{day;mealLabel;mealTime;inCurrentMonth;toggle=new P;isToday=b(()=>new Date(this.day.dateISO).setHours(0,0,0,0)===new Date().setHours(0,0,0,0));onToggle(o,e){this.toggle.emit({dateISO:this.day.dateISO,meal:o,optedIn:e})}get allServed(){return Array.isArray(this.day?.meals)&&this.day.meals.every(o=>!!o.isServed)}get dayName(){return new Date(this.day.dateISO).toLocaleString(void 0,{weekday:"short"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-day-cell"]],inputs:{day:"day",mealLabel:"mealLabel",mealTime:"mealTime",inCurrentMonth:"inCurrentMonth"},outputs:{toggle:"toggle"},decls:8,vars:9,consts:[[1,"cell"],[1,"cell-header"],[1,"date"],["class","tick",4,"ngIf"],[1,"cell-body"],[1,"meal-inline",3,"optin","optout"],[1,"tick"],[1,"meal-inline"],["aria-hidden","true",1,"dot"],[1,"text"],[3,"change","checked"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),y(3,Dt,2,0,"mat-icon",3),g(4),l()(),r(5,"div",4),M(6,Et,5,10,"div",5,Pt),l()()),e&2&&(O("outside",!t.inCurrentMonth)("completed",t.allServed)("today",t.isToday()),d(3),h("ngIf",t.allServed),d(),Oe(" ",t.dayName," ",t.day.dateISO.split("-")[2]," "),d(2),k(t.day.meals))},dependencies:[V,Ee,W,ct,N,U],styles:[".cell[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;display:flex;flex-direction:column;min-height:120px}.cell.outside[_ngcontent-%COMP%]{opacity:.5}.cell.today[_ngcontent-%COMP%]{border-color:#1976d2;background:#e3f2fd!important;box-shadow:0 2px 8px #1976d233}.cell.today[_ngcontent-%COMP%]   .cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#1976d2;font-weight:700}.cell-header[_ngcontent-%COMP%]{padding:6px 8px;border-bottom:1px dashed #e0e0e0}.cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:600;color:#000000bd;display:flex;align-items:center;gap:6px}.cell-header[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{color:#2e7d32;font-size:18px}.cell-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding:6px 8px 10px}.cell.completed[_ngcontent-%COMP%]{border-color:#c8e6c9;background:#f1f8e9}.meal-inline[_ngcontent-%COMP%]{display:grid;grid-template-columns:10px 1fr auto;align-items:center;gap:8px;padding:6px 8px;border-radius:8px;background:#fafafa;border:1px solid #eee}.meal-inline[_ngcontent-%COMP%]     .readonly{opacity:.6}.meal-inline[_ngcontent-%COMP%]     .readonly .mdc-switch__handle, .meal-inline[_ngcontent-%COMP%]     .readonly .mdc-switch{pointer-events:none;cursor:default}.meal-inline.optin[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1976d2}.meal-inline.optout[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#e53935}.meal-inline[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:999px}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{min-height:auto}.meal-inline[_ngcontent-%COMP%]{grid-template-columns:8px 1fr auto;padding:6px}}"],changeDetection:0})};var Bt=["calendarGrid"],Rt=(n,o)=>o.meal,vt=(n,o)=>o.dateISO;function Gt(n,o){if(n&1){let e=S();r(0,"button",19),p("click",function(){f(e);let a=u();return v(a.goBackToClients())}),r(1,"mat-icon"),g(2,"arrow_back"),l()()}}function At(n,o){if(n&1&&(r(0,"mat-chip-option",16)(1,"mat-icon"),g(2),l(),r(3,"span"),g(4),l()()),n&2){let e=o.$implicit,t=u();h("selected",e.optedIn)("color",e.optedIn?"primary":"warn"),d(2),B(e.optedIn?"check_circle":"cancel"),d(2),A("",t.mealLabel[e.meal]," \xB7 ",t.mealTime[e.meal]," \xB7 ",e.optedIn?"Opted in":"Opted out","")}}function Lt(n,o){n&1&&(r(0,"div",17),x(1,"mat-spinner",20),l())}function Vt(n,o){if(n&1&&(r(0,"div",22),g(1),l()),n&2){let e=o.$implicit;d(),B(e)}}function Ft(n,o){if(n&1){let e=S();r(0,"app-day-cell",26),p("toggle",function(a){f(e);let i=u(3);return v(i.toggleMeal(a.dateISO,a.meal,a.optedIn))}),l()}if(n&2){let e=u(),t=e.$implicit,a=e.$index,i=u(2);G("col-",a%7,""),h("day",t)("mealLabel",i.mealLabel)("mealTime",i.mealTime)("inCurrentMonth",!0),w("data-date",t.dateISO)}}function Ut(n,o){if(n&1&&x(0,"div"),n&2){let e=u().$index;G("placeholder col-",e%7,"")}}function Nt(n,o){if(n&1&&y(0,Ft,1,8,"app-day-cell",24)(1,Ut,1,3,"div",25),n&2){let e=o.$implicit;C(e.inCurrentMonth===!0?0:1)}}function Wt(n,o){if(n&1&&(r(0,"div",21),M(1,Vt,2,1,"div",22,K),l(),r(3,"div",23,0),M(5,Nt,2,1,null,null,vt),l()),n&2){let e=u();d(),k(e.weekdayNames()),d(4),k(o.days)}}function jt(n,o){if(n&1&&(r(0,"div",22),g(1),l()),n&2){let e=o.$implicit;d(),B(e)}}function zt(n,o){if(n&1){let e=S();r(0,"app-day-cell",26),p("toggle",function(a){f(e);let i=u(2);return v(i.toggleMeal(a.dateISO,a.meal,a.optedIn))}),l()}if(n&2){let e=o.$implicit,t=o.$index,a=u(2);G("col-",t%7,""),h("day",e)("mealLabel",a.mealLabel)("mealTime",a.mealTime)("inCurrentMonth",!0),w("data-date",e.dateISO)}}function $t(n,o){if(n&1&&(r(0,"div",21),M(1,jt,2,1,"div",22,K),l(),r(3,"div",27),M(4,zt,1,8,"app-day-cell",24,vt),l()),n&2){let e=u();d(),k(e.weekdayNames()),d(3),k(o.days)}}var ft=class n{store=s(le);authStore=s(je);route=s(Ge);router=s(Ae);injector=s(R);MealType=We;calendarGridRef=fe("calendarGrid");todayISO=be(new Date().toString().slice(0,10));constructor(){this.store.setSelectedUserId(this.route.paramMap.pipe(T(o=>o.get("userId")||void 0))),F(this.calendarGridRef).pipe(I(Boolean),I(()=>this.view()==="month"),T(()=>window.innerWidth<=960),I(Boolean),de(20),Le()).subscribe(()=>{_e(()=>{this.scrollToToday()},{injector:this.injector})})}view=b(()=>this.store.view());loading=b(()=>this.store.loading());month=b(()=>this.store.monthData?.());week=b(()=>this.store.weekData?.());selectedUserId=b(()=>this.store.selectedUserId());currentUser=b(()=>this.authStore.user());isAdminOrDelivery=b(()=>{let o=this.currentUser();return o?.userType==="ADMIN"||o?.userType==="DELIVERY"});mealLabel={BREAKFAST:"Breakfast",LUNCH:"Lunch",DINNER:"Dinner"};mealTime={BREAKFAST:"08:00",LUNCH:"12:00",DINNER:"20:00"};todayMeals=b(()=>{let o=this.month(),e=this.week();return(o?.days??e?.days??[]).find(i=>ht(i.dateISO))?.meals??[]});weekdayNames=b(()=>{let o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e=this.store.weekStartsOn(),t=[];for(let a=0;a<7;a++)t.push(o[(e+a)%7]);return t});monthLabel=b(()=>{let{month:o}=this.store.currentMonth();return new Date(new Date().getFullYear(),o,1).toLocaleString(void 0,{month:"long"})});toggleMeal(o,e,t){this.store.toggleMeal(o,e,t)}setView(o){this.store.setView(o)}prev(){if(this.store.view()==="month"){let{month:o,year:e}=this.store.currentMonth(),t=o===0?11:o-1,a=o===0?e-1:e;this.store.setMonth(a,t)}else{let o=this.store.currentWeekStartISO?.()??new Date().toISOString().slice(0,10),e=new Date(o);e.setDate(e.getDate()-7),this.store.setWeekStartISO(e.toISOString().slice(0,10))}}next(){if(this.store.view()==="month"){let{month:o,year:e}=this.store.currentMonth(),t=o===11?0:o+1,a=o===11?e+1:e;this.store.setMonth(a,t)}else{let o=this.store.currentWeekStartISO?.()??new Date().toISOString().slice(0,10),e=new Date(o);e.setDate(e.getDate()+7),this.store.setWeekStartISO(e.toISOString().slice(0,10))}}isInCurrentMonth(o,e){return new Date(o).getMonth()===e}goBackToClients(){this.router.navigate(["/clients"])}navigateToPatterns(){this.router.navigate(["/patterns"])}scrollToToday(){let o=this.calendarGridRef();if(!o?.nativeElement)return;let e=new Date,t=e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0"),a=o.nativeElement.querySelector(`[data-date="${t}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-calendar-page"]],viewQuery:function(e,t){e&1&&Se(t.calendarGridRef,Bt,5),e&2&&Te()},features:[L([le])],decls:35,vars:10,consts:[["calendarGrid",""],["color","primary",1,"toolbar"],[1,"left"],["mat-icon-button","","aria-label","Back to Clients"],["mat-icon-button","","aria-label","Previous",3,"click"],["mat-icon-button","","aria-label","Next",3,"click"],[1,"center"],[1,"month-label"],[3,"change","value"],["value","month"],["value","week"],[1,"right"],[1,"today-badge"],[1,"summary"],["appearance","outlined"],[1,"chips"],[3,"selected","color"],[1,"center","p24"],["mat-fab","","aria-label","Go to Patterns","color","primary",1,"fab-patterns",3,"click"],["mat-icon-button","","aria-label","Back to Clients",3,"click"],["diameter","32"],[1,"weekday-headers"],[1,"weekday"],[1,"calendar-grid","month"],[3,"day","mealLabel","mealTime","inCurrentMonth","class"],[3,"class"],[3,"toggle","day","mealLabel","mealTime","inCurrentMonth"],[1,"calendar-grid","week"]],template:function(e,t){if(e&1&&(r(0,"mat-toolbar",1)(1,"div",2),y(2,Gt,3,0,"button",3),r(3,"button",4),p("click",function(){return t.prev()}),r(4,"mat-icon"),g(5,"chevron_left"),l()(),r(6,"button",5),p("click",function(){return t.next()}),r(7,"mat-icon"),g(8,"chevron_right"),l()()(),r(9,"div",6)(10,"span",7),g(11),l(),r(12,"mat-button-toggle-group",8),p("change",function(i){return t.setView(i.value)}),r(13,"mat-button-toggle",9),g(14,"Month"),l(),r(15,"mat-button-toggle",10),g(16,"Week"),l()()(),r(17,"div",11)(18,"span",12),g(19),Pe(20,"slice"),l()()(),r(21,"section",13)(22,"mat-card",14)(23,"mat-card-title"),g(24,"Today's Meals"),l(),r(25,"mat-card-content")(26,"div",15),M(27,At,5,6,"mat-chip-option",16,Rt),l()()()(),y(29,Lt,2,0,"div",17)(30,Wt,7,0)(31,$t,6,0),r(32,"button",18),p("click",function(){return t.navigateToPatterns()}),r(33,"mat-icon"),g(34,"pattern"),l()()),e&2){let a,i;d(2),C(t.isAdminOrDelivery()?2:-1),d(9),B(t.monthLabel()),d(),h("value",t.view()),d(7),we("Today: ",De(20,7,t.todayISO(),4),""),d(8),k(t.todayMeals()),d(2),C(t.loading()?29:-1),d(),C((a=t.view()==="month"&&t.month())?30:-1,a),d(),C((i=t.view()==="week"&&t.week())?31:-1,i)}},dependencies:[V,Be,bt,re,$,Xe,qe,Ke,N,U,lt,rt,st,dt,nt,et,at,tt,W,ut,gt,Q],styles:[".toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;display:grid;grid-template-columns:1fr auto 1fr;gap:8px;overflow:auto}.toolbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center}.toolbar[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{justify-content:center}.toolbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:end}.today-badge[_ngcontent-%COMP%]{font-weight:600}.summary[_ngcontent-%COMP%]{padding:12px}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.chips[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.p24[_ngcontent-%COMP%]{padding:24px}.calendar-grid[_ngcontent-%COMP%]{display:grid;gap:10px;padding:12px}.weekday-headers[_ngcontent-%COMP%]{display:grid;gap:10px;padding:0 12px;grid-template-columns:repeat(7,minmax(0,1fr))}.weekday[_ngcontent-%COMP%]{font-weight:600;opacity:.8;text-align:center}.calendar-grid.month[_ngcontent-%COMP%], .calendar-grid.week[_ngcontent-%COMP%]{grid-template-columns:repeat(7,minmax(0,1fr))}.cell[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;display:flex;flex-direction:column;min-height:140px}.placeholder[_ngcontent-%COMP%]{background:transparent;border:1px dashed #eee;border-radius:12px;min-height:140px}.cell-header[_ngcontent-%COMP%]{padding:8px 10px;border-bottom:1px dashed #e0e0e0}.cell-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-weight:600;color:#000000bd}.cell-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:8px 10px 12px}.meal-inline[_ngcontent-%COMP%]{display:grid;grid-template-columns:10px 1fr auto;align-items:center;gap:8px;padding:6px 8px;border-radius:8px;background:#fafafa;border:1px solid #eee}.meal-inline.optin[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#1976d2}.meal-inline.optout[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#e53935}.meal-inline[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:999px}.month-label[_ngcontent-%COMP%]{margin-right:12px;font-weight:600}.calendar-grid[_ngcontent-%COMP%]   .col-0[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+1){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+3){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+5){background:#00000008}.calendar-grid[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%], .weekday-headers[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(7n+7){background:#00000008}@media (max-width: 960px){.weekday-headers[_ngcontent-%COMP%]{display:none}.calendar-grid.month[_ngcontent-%COMP%], .calendar-grid.week[_ngcontent-%COMP%]{grid-template-columns:1fr}.cell[_ngcontent-%COMP%]{min-height:auto}.placeholder[_ngcontent-%COMP%]{display:none}}.fab-patterns[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 8px #0003;transition:all .3s ease}.fab-patterns[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 12px #0000004d}.fab-patterns[_ngcontent-%COMP%]:active{transform:scale(.95)}"],changeDetection:0})};export{ft as CalendarPageComponent};
