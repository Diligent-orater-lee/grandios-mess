import{a as Z,b as ee,c as ae,d as re,e as de,f as me,g as se,h as pe,i as ge,j as _e,k as ue,l as Ce,m as fe,n as ve,o as Me,p as xe,q as O}from"./chunk-FTS5RGYW.js";import{a as ie,b as oe}from"./chunk-MZQ6FVZR.js";import{a as le,b as ce}from"./chunk-OEABJX5Z.js";import{c as R}from"./chunk-63PAYZU4.js";import"./chunk-4JD22T3T.js";import{a as q,c as G,d as J}from"./chunk-JUUJTUIL.js";import"./chunk-B64C44VI.js";import{a as I}from"./chunk-Q2E4Q4SZ.js";import"./chunk-VNQ7BZ4B.js";import"./chunk-3MHNROPV.js";import"./chunk-SIEO27HX.js";import{a as te,b as ne}from"./chunk-PCTXAYZW.js";import{C as Y,m as V,o as F,p as H,q as j,r as A,t as N,u as B,w as $,z as W}from"./chunk-YNQLZI4D.js";import{$ as u,$b as U,Da as l,E as D,Fb as L,Gb as k,H as w,Na as T,Ra as d,Rb as C,Va as g,_a as _,cb as o,db as i,eb as P,fb as f,gb as v,ha as x,i as S,ia as h,ib as y,kb as m,kc as z,kd as K,lb as s,md as Q,oa as E,od as X,wa as b,wb as a,yb as M}from"./chunk-DVSZTQYN.js";var ye=()=>[5,10,20,50];function be(e,t){if(e&1&&(o(0,"div",10)(1,"mat-icon",13),a(2,"error"),i(),a(3),i()),e&2){let n=s();l(3),M(" ",n.error()," ")}}function Pe(e,t){e&1&&(o(0,"div",11),P(1,"mat-spinner",14),o(2,"p"),a(3,"Loading delivery users..."),i()())}function Oe(e,t){e&1&&(o(0,"th",26),a(1,"Full Name"),i())}function Se(e,t){if(e&1&&(o(0,"td",27)(1,"div",28)(2,"mat-icon",29),a(3,"person"),i(),a(4),i()()),e&2){let n=t.$implicit;l(4),M(" ",n.name||"N/A"," ")}}function De(e,t){e&1&&(o(0,"th",26),a(1,"Email"),i())}function we(e,t){if(e&1&&(o(0,"td",27)(1,"div",30)(2,"mat-icon",31),a(3,"email"),i(),a(4),i()()),e&2){let n=t.$implicit;l(4),M(" ",n.email," ")}}function Ee(e,t){e&1&&(o(0,"th",26),a(1,"Username"),i())}function Te(e,t){if(e&1&&(o(0,"td",27)(1,"div",32)(2,"mat-icon",29),a(3,"account_circle"),i(),a(4),i()()),e&2){let n=t.$implicit;l(4),M(" ",n.username," ")}}function Le(e,t){e&1&&(o(0,"th",26),a(1,"Actions"),i())}function ke(e,t){if(e&1){let n=y();o(0,"td",27)(1,"button",33),m("click",function(c){let p=x(n).$implicit;return s(2).viewDeliveryUserCalendar(p),h(c.stopPropagation())}),o(2,"mat-icon"),a(3,"calendar_today"),i()()()}}function Ue(e,t){e&1&&P(0,"tr",34)}function ze(e,t){if(e&1){let n=y();o(0,"tr",35),m("click",function(){let c=x(n).$implicit,p=s(2);return h(p.viewDeliveryUserCalendar(c))}),i()}}function Ie(e,t){if(e&1){let n=y();o(0,"mat-paginator",36),m("page",function(c){x(n);let p=s(2);return h(p.onPageChange(c))}),i()}if(e&2){let n=s(2);g("length",n.pagination().total)("pageSize",n.pagination().limit)("pageIndex",n.pagination().page-1)("pageSizeOptions",k(5,ye))("showFirstLastButtons",!0)}}function Re(e,t){if(e&1&&(o(0,"div",15)(1,"table",16),f(2,17),d(3,Oe,2,0,"th",18)(4,Se,5,1,"td",19),v(),f(5,20),d(6,De,2,0,"th",18)(7,we,5,1,"td",19),v(),f(8,21),d(9,Ee,2,0,"th",18)(10,Te,5,1,"td",19),v(),f(11,22),d(12,Le,2,0,"th",18)(13,ke,4,0,"td",19),v(),d(14,Ue,1,0,"tr",23)(15,ze,1,0,"tr",24),i()(),d(16,Ie,1,6,"mat-paginator",25)),e&2){let n=s();l(),g("dataSource",n.deliveryUsers()),l(13),g("matHeaderRowDef",n.displayedColumns()),l(),g("matRowDefColumns",n.displayedColumns()),l(),_(n.pagination()?16:-1)}}function Ve(e,t){e&1&&a(0," No delivery users match your search criteria. Try adjusting your search terms. ")}function Fe(e,t){e&1&&a(0," There are no delivery users to display at the moment. ")}function He(e,t){if(e&1&&(o(0,"div",12)(1,"mat-icon",37),a(2,"local_shipping"),i(),o(3,"h3"),a(4,"No delivery users found"),i(),o(5,"p"),d(6,Ve,1,0)(7,Fe,1,0),i()()),e&2){let n=s();l(6),_(n.searchTerm()?6:7)}}var he=class e{userStore=u(O);authStore=u(R);destroyRef=u(E);router=u(z);dialog=u(Z);searchSubject=new S;searchTerm=b("");displayedColumns=b(["name","email","username","actions"]);deliveryUsers=C(()=>this.userStore.delivery());pagination=C(()=>this.userStore.deliveryPagination());loading=C(()=>this.userStore.loading());error=C(()=>this.userStore.error());currentUser=C(()=>this.authStore.user());constructor(){this.searchSubject.pipe(D(300),w(),I(this.destroyRef)).subscribe(t=>{this.userStore.setSearchTerm(t),this.loadDeliveryUsers()})}ngOnInit(){this.loadDeliveryUsers()}onSearchChange(t){let n=t.target;this.searchTerm.set(n.value),this.searchSubject.next(n.value)}onPageChange(t){this.userStore.setCurrentPage(t.pageIndex+1),this.userStore.setPageSize(t.pageSize),this.loadDeliveryUsers()}onRefresh(){this.loadDeliveryUsers()}loadDeliveryUsers(){let t={page:this.userStore.currentPage(),limit:this.userStore.pageSize(),search:this.userStore.searchTerm()||void 0};this.userStore.loadDeliveryUsers(t)}formatDate(t){return new Date(t).toLocaleDateString()}viewDeliveryUserCalendar(t){this.router.navigate(["/calendar",t.id])}navigateToClients(){this.router.navigate(["/clients"])}openAddUserDialog(){this.dialog.open(xe,{width:"500px",maxWidth:"90vw",disableClose:!1,data:{userType:"DELIVERY"}}).afterClosed().subscribe(n=>{n&&this.loadDeliveryUsers()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=T({type:e,selectors:[["app-delivery-list"]],features:[L([O])],decls:34,vars:6,consts:[[1,"delivery-list-container"],[1,"delivery-list-card"],[1,"navigation-actions-bar"],["mat-stroked-button","","color","primary",1,"nav-button",3,"click"],["mat-raised-button","","color","accent",1,"add-user-button",3,"click"],[1,"search-actions-bar"],["appearance","outline",1,"search-field"],["matInput","","type","text","placeholder","Search by username, email, or name...",3,"input","value"],["matSuffix",""],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"error-message"],[1,"loading-container"],[1,"empty-state"],["color","warn"],["diameter","40"],[1,"table-container"],["mat-table","",1,"delivery-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","username"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","clickable-row",3,"click",4,"matRowDef","matRowDefColumns"],[1,"pagination",3,"length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"],["mat-header-cell",""],["mat-cell",""],[1,"name-cell"],[1,"user-icon"],[1,"email-cell"],[1,"email-icon"],[1,"username-cell"],["mat-icon-button","","color","primary","matTooltip","View Calendar","aria-label","View delivery user calendar",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable-row",3,"click"],[1,"pagination",3,"page","length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"],[1,"empty-icon"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),a(5,"local_shipping"),i(),a(6," Delivery Users List "),i(),o(7,"mat-card-subtitle"),a(8," Manage and view delivery users "),i()(),o(9,"mat-card-content")(10,"div",2)(11,"button",3),m("click",function(){return r.navigateToClients()}),o(12,"mat-icon"),a(13,"people"),i(),a(14," View Clients "),i(),o(15,"button",4),m("click",function(){return r.openAddUserDialog()}),o(16,"mat-icon"),a(17,"person_add"),i(),a(18," Add New Delivery User "),i()(),o(19,"div",5)(20,"mat-form-field",6)(21,"mat-label"),a(22,"Search delivery users"),i(),o(23,"input",7),m("input",function(p){return r.onSearchChange(p)}),i(),o(24,"mat-icon",8),a(25,"search"),i()(),o(26,"button",9),m("click",function(){return r.onRefresh()}),o(27,"mat-icon"),a(28,"refresh"),i(),a(29," Refresh "),i()(),d(30,be,4,1,"div",10)(31,Pe,4,0,"div",11)(32,Re,17,4)(33,He,8,1,"div",12),i()()()),n&2&&(l(23),g("value",r.searchTerm()),l(3),g("disabled",r.loading()),l(4),_(r.error()?30:-1),l(),_(r.loading()?31:-1),l(),_(!r.loading()&&r.deliveryUsers().length>0?32:-1),l(),_(!r.loading()&&r.deliveryUsers().length===0&&!r.error()?33:-1))},dependencies:[U,V,Me,de,se,ue,pe,me,Ce,ge,_e,fe,ve,re,ae,J,G,Y,$,W,q,ne,te,X,Q,K,B,F,j,N,A,H,ce,le,oe,ie,ee],styles:[".delivery-list-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.delivery-list-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:12px;overflow:hidden}mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff;margin:-24px -24px 24px;padding:24px}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1.5rem;font-weight:600;margin:0}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#fffc;margin:8px 0 0;font-size:1rem}.navigation-actions-bar[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:24px;flex-wrap:wrap}.navigation-actions-bar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%], .navigation-actions-bar[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]{height:40px;min-width:140px}.navigation-actions-bar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .navigation-actions-bar[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.navigation-actions-bar[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.navigation-actions-bar[_ngcontent-%COMP%]   .add-user-button[_ngcontent-%COMP%]:hover{background-color:#f57c00}.search-actions-bar[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:24px;flex-wrap:wrap}.search-actions-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.search-actions-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;min-width:120px}.search-actions-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;background-color:#ffebee;border:1px solid #ffcdd2;border-radius:8px;color:#c62828;margin-bottom:16px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid #e0e0e0;margin-bottom:16px}.delivery-table[_ngcontent-%COMP%]{width:100%;background:#fff}.delivery-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600;color:#333;border-bottom:2px solid #e0e0e0;text-align:center}.delivery-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;text-align:center}.delivery-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.delivery-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%], .delivery-table[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%], .delivery-table[_ngcontent-%COMP%]   .username-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.delivery-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .delivery-table[_ngcontent-%COMP%]   .email-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .delivery-table[_ngcontent-%COMP%]   .username-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:#666}.delivery-table[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{color:#2196f3!important}.delivery-table[_ngcontent-%COMP%]   .email-icon[_ngcontent-%COMP%]{color:#ff9800!important}.user-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:16px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.user-type-badge.user-type-admin[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.user-type-badge.user-type-client[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#388e3c}.user-type-badge.user-type-delivery[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.pagination[_ngcontent-%COMP%]{margin-top:16px;border-top:1px solid #e0e0e0;padding-top:16px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;text-align:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:1.25rem;font-weight:500}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999;font-size:1rem;max-width:400px;line-height:1.5}@media (max-width: 768px){.delivery-list-container[_ngcontent-%COMP%]{padding:16px}.navigation-actions-bar[_ngcontent-%COMP%], .search-actions-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.navigation-actions-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%], .search-actions-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{min-width:unset}.delivery-table[_ngcontent-%COMP%]{font-size:.875rem}.name-cell[_ngcontent-%COMP%], .email-cell[_ngcontent-%COMP%], .username-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.name-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .email-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .username-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){mat-card-header[_ngcontent-%COMP%]{padding:16px}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem}mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:.875rem}.delivery-table[_ngcontent-%COMP%]{font-size:.75rem}.user-type-badge[_ngcontent-%COMP%]{font-size:.625rem;padding:2px 8px}}.clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.clickable-row[_ngcontent-%COMP%]:hover{background-color:#0000000a}.clickable-row[_ngcontent-%COMP%]:active{background-color:#00000014}"],changeDetection:0})};export{he as DeliveryListComponent};
